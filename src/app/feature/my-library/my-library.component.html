<div class="min-h-screen bg-gray-50">
  <!-- Header -->
  <div class="bg-white border-b border-gray-200">
    <div class="container mx-auto px-4 py-8">
      <h1 class="text-4xl font-bold text-gray-900">Minha Biblioteca</h1>
      <p class="text-gray-600 mt-2">Gerencie seus livros e acompanhe sua leitura</p>
    </div>

    <!-- Tabs -->
    <div class="container mx-auto px-4">
      <div class="flex gap-1 border-b border-gray-200">
        @for (tab of tabs; track tab.id) {
          <button
            [class]="getTabClasses(tab.id)"
            (click)="setActiveTab(tab.id)"
          >
            {{ tab.label }}
            <span class="ml-2 text-sm opacity-70">({{ getTabCount(tab.id) }})</span>
          </button>
        }
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="container mx-auto px-4 py-8">
    @if (isLoading()) {
      <div class="flex justify-center py-12">
        <app-loading-spinner />
      </div>
    } @else if (filteredLibrary.length === 0) {
      <app-empty-state
        title="Nenhum livro encontrado"
        [message]="activeTab() === 'all'
          ? 'Adicione livros à sua biblioteca para começar a acompanhar suas leituras.'
          : 'Você não tem livros neste status.'"
      />
    } @else {
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        @for (item of filteredLibrary; track item.id) {
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow">
            <!-- Book Card -->
            <div (click)="navigateToBook(item.book.id)" class="cursor-pointer">
              <app-book-card [book]="item.book" />
            </div>

            <!-- Status Selector -->
            <div class="p-4 border-t border-gray-200 bg-gray-50">
              <app-reading-status-selector
                [currentStatus]="item.status"
                (statusChange)="onStatusChange(item.id, $event)"
              />

              <!-- Remove Button -->
              <button
                (click)="onRemoveBook(item.book.id)"
                class="mt-3 w-full px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"
              >
                Remover da Biblioteca
              </button>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>
